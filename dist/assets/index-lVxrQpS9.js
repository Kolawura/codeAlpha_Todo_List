(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function l(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=l(s);fetch(s.href,n)}})();const p=document.querySelector("#Todo_text"),T=document.querySelector("#task"),y=document.querySelector("#addBtn"),u=document.querySelector("#errCont"),x=document.querySelector("#errMsg"),m=document.querySelector("#lg_footer"),f=document.querySelector("#sm_footer"),q=document.querySelector("#showAll"),E=document.querySelector("#ft_showAll"),O=document.querySelector("#showComp"),D=document.querySelector("#ft_showComp"),I=document.querySelector("#clearCompTask"),_=document.querySelector("#active"),b=document.querySelector("#ft_active"),N=document.querySelector("#noCompTask");let o=JSON.parse(localStorage.getItem("task")||"[]"),i=null;const k=()=>{const t=o.filter(l=>l.complete!==!0).length;N.textContent=`${t} tasks left`};k();const h=()=>{o.length!==0?(m.classList.remove("hidden"),m.classList.add("flex"),f.classList.remove("hidden"),f.classList.add("block")):(m.classList.add("hidden"),m.classList.remove("flex"),f.classList.add("hidden"),f.classList.remove("block"))};h();addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),S())});const g=e=>{x.textContent=e,u.classList.remove("hidden"),u.classList.add("flex"),setTimeout(()=>{u.classList.remove("flex"),u.classList.add("hidden")},2e3)},S=()=>{y.textContent="Add Task";const e=p.value.trim();if(e!=="")i===null&&(o=[{id:Date.now(),text:e,complete:!1},...o],localStorage.setItem("task",JSON.stringify(o)),h(),k()),i&&(o=o.map(t=>t.id===i?{...t,text:e}:t),localStorage.setItem("task",JSON.stringify(o)),i=null,h(),k()),r(o),p.value="";else{g("Sorry, Input cannot be empty");return}},r=e=>{T.innerHTML="",e.forEach(t=>{const l=document.createElement("div"),c=document.createElement("ol");c.classList.add("taskList");const s=document.createElement("li");s.classList.add("taskText"),s.textContent=t.text,c.appendChild(s),t.complete&&s.classList.add("complete");const n=document.createElement("button");n.classList.add("compBtn"),n.innerHTML='<i class="fa-solid fa-check"></i>',n.onclick=()=>B(t.id),c.appendChild(n);const a=document.createElement("button");a.classList.add("delBtn"),a.innerHTML='<i class="fa-regular fa-trash-can"></i>',a.onclick=()=>M(t.id),c.appendChild(a);const d=document.createElement("button");d.classList.add("edtBtn"),d.innerHTML='<i class="fa-solid fa-pen-to-square"></i>',d.onclick=()=>A(t.id),c.appendChild(d);const L=document.createElement("hr");l.appendChild(c),L.classList.add("hr"),l.appendChild(L),T.appendChild(l)}),h(),k()},B=e=>{o=o.map(t=>t.id===e?{...t,complete:!t.complete}:t),localStorage.setItem("task",JSON.stringify(o)),r(o)},M=e=>{o=o.filter(t=>t.id!==e),localStorage.setItem("task",JSON.stringify(o)),r(o)},A=e=>{if(p.value.trim()!="")g("Please Submit or clear input text first");else{y.textContent="Edit Task";const t=o.find(c=>c.id===e);i=e,t&&(p.value=t.text);const l=o.filter(c=>c.id!==e);r(l)}};q.onclick=e=>{e.preventDefault(),v()};O.onclick=e=>{e.preventDefault(),C()};_.onclick=e=>{e.preventDefault(),w()};E.onclick=e=>{e.preventDefault(),v()};D.onclick=e=>{e.preventDefault(),C()};b.onclick=e=>{e.preventDefault(),w()};I.onclick=e=>{e.preventDefault(),J()};const v=()=>{r(o)},C=()=>{const e=o.filter(t=>t.complete!==!1);r(e)},w=()=>{const e=o.filter(t=>t.complete!==!0);r(e)},J=()=>{o=o.filter(e=>e.complete!==!0),localStorage.setItem("task",JSON.stringify(o)),r(o)};document.addEventListener("DOMContentLoaded",()=>{r(o)});y.onclick=e=>{e.preventDefault(),S()};
